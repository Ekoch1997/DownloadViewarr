document.addEventListener("DOMContentLoaded",(function(){const n=document.getElementsByTagName("script");let e=null;for(let t of n)if(t.src.includes("downloadviewarr_button.js")){e=t;break}if(!e)return void console.error("Error: Script tag for 'downloadviewarr_button.js' could not be found.");const t=e.getAttribute("downloadviewarr-url");if(!t)return void console.error("Error: 'downloadviewarr-url' attribute is missing or cannot be read.");const o=e.getAttribute("color")||"#e5a00d",r=document.createElement("style");r.innerHTML=`\n    .floating-btn {\n      position: fixed;\n      bottom: 20px;\n      left: 20px;\n      color: white;\n      border: none;\n      border-radius: 50%;\n      width: 50px;\n      height: 50px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 24px;\n      cursor: pointer;\n      z-index: 9999;\n      transition: all 0.3s ease;\n      overflow: visible;\n    }\n\n    .floating-btn::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: ${o}; \n      z-index: -1;\n      transition: filter 0.3s ease;\n      border-radius: 50%;\n    }\n\n    .floating-btn:hover::before {\n      filter: brightness(75%);\n    }\n\n    .floating-btn:hover::after {\n      content: "View the current download queue";\n      position: absolute;\n      top: 50%;\n      left: calc(100% + 10px);\n      transform: translateY(-50%); \n      background-color: #333; /* Tooltip background color */\n      color: #fff; /* Tooltip text color */\n      padding: 5px 10px;\n      border-radius: 5px;\n      font-size: 12px;\n      white-space: nowrap;\n      z-index: 10000;\n      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);\n    }\n\n    svg.fltbutt-icon {\n      width: 32px;\n      height: 32px;\n      fill: white;\n      pointer-events: none;\n      transform: translate(1px, -1px);s\n    }\n\n    .modal {\n      display: none;\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      background-color: rgba(0, 0, 0, 0.5);\n      align-items: center;\n      justify-content: center;\n      z-index: 1000;\n    }\n\n    .modal-content {\n      background-color: white;\n      padding: 10px;\n      border-radius: 10px;\n      width: 80%;\n      height: 80%;\n      overflow: hidden;\n    }\n\n    .modal-content iframe {\n      width: 100%;\n      height: 100%;\n      border-radius: 5px 5px 0 0;\n      border: none;\n    }\n\n    .close-btn {\n      background-color: ${o};\n      color: white;\n      border: none;\n      border-radius: 5px;\n      padding: 10px 20px;\n      cursor: pointer;\n      font-size: 14px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .close-btn:hover {\n      background-color: #333;\n    }\n  `,document.head.appendChild(r);const i=`\n    <button class="floating-btn">\n      \n    <svg class="fltbutt-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512">\n      <path d="M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zm-132.9 88.7L299.3 420.7c-6.2 6.2-16.4 6.2-22.6 0L171.3 315.3c-10.1-10.1-2.9-27.3 11.3-27.3H248V176c0-8.8 7.2-16 16-16h48c8.8 0 16 7.2 16 16v112h65.4c14.2 0 21.4 17.2 11.3 27.3z"/>\n    </svg>\n  \n    </button>\n    <div class="modal" id="modal">\n      <div class="modal-content">\n        <iframe id="contentFrame" src="${t}/index.html"></iframe>\n        <button class="close-btn plex-btn" id="close-modal">\n          Close\n        </button>\n      </div>\n    </div>\n  `;document.body.insertAdjacentHTML("beforeend",i);const d=document.querySelector(".floating-btn"),l=document.getElementById("modal"),a=document.getElementById("close-modal");d.addEventListener("click",(()=>{l.style.display="flex"})),a.addEventListener("click",(()=>{l.style.display="none"})),window.addEventListener("click",(n=>{n.target===l&&(l.style.display="none")}))}));
